---
import Navigation from '../../components/Navigation.astro';
import { getCollection } from 'astro:content';

const entries = await getCollection('elements');

// 表示順をID昇順にしたい場合（任意）
entries.sort((a, b) => a.data.id.localeCompare(b.data.id));
---

<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>ELEMENTS | LAST &amp; GABA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      :root {
        --bg: #FAF9F6;
        --text: #333333;
        --accent: #999;
        --font-serif: "YuMincho", "Yu Mincho", serif;
        --font-sans: "Helvetica Neue", Arial, sans-serif;
      }
      body { background-color: var(--bg); color: var(--text); font-family: var(--font-sans); margin: 0; padding-top: 80px; }
      main { padding: 60px 5vw; max-width: 1200px; margin: 0 auto; }
      .page-title { font-family: var(--font-serif); font-size: 0.9rem; letter-spacing: 0.4em; color: var(--accent); margin-bottom: 60px; text-align: center; }

      .elements-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 60px 40px; }
      .element-card { text-decoration: none; color: inherit; display: flex; flex-direction: column; transition: opacity 0.3s; }
      .element-card:hover { opacity: 0.7; }
      .image-wrapper { width: 100%; aspect-ratio: 3 / 4; background-color: #eee; overflow: hidden; margin-bottom: 15px; }
      .image-wrapper img { width: 100%; height: 100%; object-fit: cover; }
      .element-info { font-family: var(--font-serif); }
      .element-id { font-size: 0.65rem; color: var(--accent); letter-spacing: 0.1em; margin-bottom: 4px; text-transform: uppercase; }
      .element-brand { font-size: 0.8rem; letter-spacing: 0.15em; font-weight: bold; margin-bottom: 2px; }
      .element-name { font-size: 0.8rem; color: #666; }
      @media (max-width: 768px) { .elements-grid { grid-template-columns: repeat(2, 1fr); gap: 40px 20px; } }
    </style>
  </head>
  <body>
    <Navigation />
    <main>
      <h1 class="page-title">01 ELEMENTS</h1>

      <div class="elements-grid">
        {entries.map((entry) => (
          <a href={`/elements/${entry.data.id}`} class="element-card">
            <div class="image-wrapper">
              <img src={entry.data.thumbnail} alt={entry.data.title} loading="lazy" />
            </div>
            <div class="element-info">
              <div class="element-id">{entry.data.id}</div>
              <div class="element-brand">{entry.data.brand}</div>
              <div class="element-name">{entry.data.title}</div>
            </div>
          </a>
        ))}
      </div>
    </main>
  </body>
</html>